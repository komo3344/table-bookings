{% extends 'common.html' %}
{% load static %}
{% load humanize %}

{% block title %}예약하기{% endblock %}

{% block content %}
<section>
    <form>
        {% csrf_token %}
        <div class="form-group">
            <label for="booker_name">예약자명</label>
            <input type="text" class="form-control" name="booker_name" id="booker_name" placeholder="" value="">
        </div>
        <div class="form-group">
            <label for="booker_phone">예약자 연락</label>
            <input type="text" class="form-control" name="booker_phone" id="booker_phone"  placeholder="" value="">
        </div>
        <div class="form-group">
            <label for="booker_comment">전달사항</label>
            <input type="text" class="form-control" name="booker_comment" id="booker_comment" placeholder="" value="">
        </div>
        <input type="hidden" name="order_number" value="{{ booking.order_number }}">
        <button type="button" onclick="submitAndPay();">예약</button>
    </form>
</section>
<script>
    function submitAndPay() {
        var form = document.querySelector('form');
        var data = new FormDate(form); // js의 FormDate라는 클래스에 폼데이터를 넘기기만 하면 데이터에 serialization이 되어 데이터가 담기게
        var httpRequest.addEventListener("load", (e) => {
            if (httpRequest.status == 200) {
                // 결제 시작
            }
        });

        httpRequest.open("POST", form.action);
        httpRequest.send(data);
    }
</script>
{% endblock %}